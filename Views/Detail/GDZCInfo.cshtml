@model UDS.Models.GDZCInfo

<script type="text/javascript">
    function totalprice() {
        var count = Number($("#Count").val());
        var singleprice = Number($("#SinglePrice").val());
        var totalprice = singleprice * count;
        $("#TotalPrice").val(totalprice.toFixed(2));
    }
</script>

@using (Ajax.BeginForm("GDZCInfo", new { id = ViewBag.Id, isOld = ViewBag.Old }, new AjaxOptions() { UpdateTargetId = "replace", HttpMethod = "Post", InsertionMode = InsertionMode.Replace }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <table style="width:100%">
        <tr>
            <td style="width:40%" align="right">设备名称：</td>
            <td style="width:60%">
                @Html.TextBoxFor(model => model.DeviceName)
                @Html.ValidationMessageFor(model => model.DeviceName)
            </td>
        </tr>
        <tr>
            <td style="width:40%" align="right">数量：</td>
            <td style="width:60%">
                @Html.EditorFor(model => model.Count, new { onclick = "totalprice()" })
                @Html.ValidationMessageFor(model => model.Count)
            </td>
        </tr>
        <tr>
            <td style="width:40%" align="right">描述：</td>
            <td style="width:60%">
                @Html.TextBoxFor(model => model.Description)
                @Html.ValidationMessageFor(model => model.Description)
            </td>
        </tr>
        <tr>
            <td style="width:40%" align="right">单价：</td>
            <td style="width:60%">
                @Html.TextBoxFor(model => model.SinglePrice, new { onKeyUp = "totalprice();" })
                @Html.ValidationMessageFor(model => model.SinglePrice)
            </td>
        </tr>
        <tr>
            <td style="width:40%" align="right">总价：</td>
            <td style="width:60%">
                @Html.TextBoxFor(model => model.TotalPrice, new { onclick = "totalprice()", @readonly = "readonly" })
                @Html.ValidationMessageFor(model => model.TotalPrice)
            </td>
        </tr>
        <tr>
            <td style="width:40%" align="right">需要日期：</td>
            <td style="width:60%">
                @Html.TextBoxFor(model => model.NeedDate, new { onclick = "laydate({ format: 'YYYY-MM-DD', start : laydate.now() })", placeholder = "YYYY-MM-DD", Class = "laydate-icon" })
                @Html.ValidationMessageFor(model => model.NeedDate)
            </td>
        </tr>

    </table>
    if (ViewBag.Display == 1)
    {
        <script src="~/Scripts/jquery-1.8.2.js"></script>
        <script src="~/Scripts/jquery.validate.js"></script>
        <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
        <div style="width:100%; text-align:center">
            <input type="submit" value="保存" id="save" name="save" />
            <input type="submit" value="发送" id="send" name="send" />
        </div>
    }
}